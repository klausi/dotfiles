---
- name: Remove Snap packages we do not want
  community.general.snap:
    name:
      # Firefox via Snap is super slow on cold starts, install the APT
      # version below instead.
      - firefox
    state: absent
  become: yes

- name: Install Ubuntu packages we want
  apt:
    name:
      - curl
      - firefox
      # Required for dconf ansible tasks we use.
      - python3-psutil
      - tilda
      - vim
    state: present
  become: yes

- name: Install Snap packages we want
  community.general.snap:
    name:
      - zoom-client
  become: yes

- name: Hide GNOME desktop icons
  community.general.dconf:
    key: "/org/gnome/shell/disabled-extensions"
    value: "['ding@rastersoft.com']"
